{% extends "base.html" %}

{% block content %}
<h2>ê·¼íƒœ ê¸°ë¡</h2>

<!-- ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ (í…Œì´ë¸” ìœ„ì— ìœ„ì¹˜) -->
<a href="{{ url_for('attendance.download_attendance') }}">
  <button>ğŸ“¥ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
</a>

<table border="1" cellpadding="8">
  <thead>
    <tr>
      <th>ë‚ ì§œ</th>
      <th>ì¶œê·¼ ì‹œê°„</th>
      <th>ì¶œê·¼ ë©”ëª¨</th>
      <th>ì¶œê·¼ IP</th>
      <th>í‡´ê·¼ ì‹œê°„</th>
      <th>í‡´ê·¼ ë©”ëª¨</th>
      <th>í‡´ê·¼ IP</th>
      <th>ì‚­ì œ</th>
    </tr>
  </thead>
  <tbody>
    {% for record in records %}
    <tr>
      <td>{{ record.work_date }}</td>
      <td>{{ record.clock_in or "-" }}</td>
      <td>{{ record.memo_in or "" }}</td>
      <td>{{ record.ip_address_in or "-" }}</td>
      <td>{{ record.clock_out or "-" }}</td>
      <td>{{ record.memo_out or "" }}</td>
      <td>{{ record.ip_address_out or "-" }}</td>
      <td>
        <form method="POST" action="{{ url_for('attendance.delete_attendance', attendance_id=record['id']) }}">
          <button type="submit" onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ì‚­ì œ</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
